package com.jarbin.bootexample.simplebootdemo.jmeter;

import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

public class Beanshell {

    public static  void main(String[] args){
        String returnData = "{\"error\":0,\"message\":\"\",\"rows\":{\"nextPage\":2,\"pageNo\":1,\"pageSize\":8,\"previousPage\":1,\"result\":[{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24508,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24507,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24506,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24505,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24504,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24503,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24502,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null},{\"buyOrSale\":0,\"buyOrSalemc\":\"买入\",\"cdNumber\":null,\"cjNumber\":0,\"cjPrice\":0.0,\"code\":null,\"creater\":null,\"ctime\":null,\"customerId\":null,\"dateFrom\":null,\"dateTo\":null,\"eoFlag\":0,\"eoFlagmc\":\"开仓\",\"futuresType\":null,\"isValid\":null,\"jysdm\":1,\"jysmc\":\"中金所\",\"lsh\":24501,\"lshAndJysdm\":[],\"marginbl\":null,\"message\":\"\",\"mtime\":null,\"number\":null,\"page\":null,\"price\":6100.0,\"pwd\":\"\",\"queryRowCount\":null,\"rows\":null,\"rtime\":null,\"shFlag\":0,\"shFlagmc\":\"投机\",\"start\":null,\"status\":null,\"stock\":\"IC2102\",\"stockname\":\"中证500股指期货\",\"sxfl\":null,\"uid\":null,\"updater\":null,\"verifyCode\":\"\",\"wtNumber\":1,\"wtState\":\"a\",\"wtStatemc\":\"未成交\",\"wtrq\":\"2020-12-29\",\"wtsj\":\"14:51:44\",\"yybid\":null,\"zhid\":\"\",\"zhlx\":null,\"zjfss\":null}],\"startIndex\":0,\"total\":7939,\"totalPageCount\":993}}";
//prev.getResponseDataAsString(); // 获取请求响应数据
        JSONObject data = JSONObject.parseObject(returnData);
        Integer error = data.getInteger("error");
        if(error == 0){
            JSONObject rows = data.getJSONObject("rows");;
            JSONArray result = rows.getJSONArray("result");
            if(result != null && result.size() > 0){
                String str = "";
                for(int i=0;i<result.size();i++){
                    JSONObject obj = result.getJSONObject(i);
                    str += obj.getInteger("lsh") + "|" + obj.getInteger("wtNumber") + ",";
                }
                /*str = str.substring(0, str.length()-1);
                System.out.println(str);*/
                /*String fileName = "D:\\CodeTool\\match\\code\\matchmaking\\result.txt";
                FileWriter fw = new FileWriter(fileName);
                if(str.length() > 0){
                    str = str.substring(1);
                }
                fw.write(str);
                fw.write("\r\n");
                fw.close();*/
            }
        }

    }
}
